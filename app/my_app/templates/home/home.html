{% extends 'base.html' %}


<head>
    <script src="{{ url_for('static', filename='selection.js') }}"></script>
</head>


{% block header %}
    <h1>{% block title %}CPU Visualizer{% endblock %}</h1>
{% endblock %}


{% block content %}
    <div class="menu">
        <form id="selectionMenu" method="POST">
            <div class="selector" id="insdiv">
                <label for="ins">Instruction</label>
                <select name="ins" id="ins">
                    <option value="move">MOV</option>
                    <option value="add">ADD</option>
                    <option value="subtract">SUB</option>
                    <option value="multiply">MUL</option>
                </select>
            </div>
            <div class="selector" id="rddiv">
                <label for="rd" class="rd">Destination</label>
                <select name="rd" class="rd" id="rd">
                    {% for name in names %}
                        <option value={{ name }}>{{ name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="selector" id="rmdiv">
                <label for="rm" class="rm">Operand1</label>
                <select name="rm" class="rm" id="rm">
                    {% for name in names %}
                        <option value={{ name }}>{{ name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="selector" id="rndiv">
                <label for="rn" id="rnlabel">Operand1</label>
                <select name="rn" id="rn">
                    <option value="immediate">Immediate</option>
                        {% for name in names %}
                    <option value={{ name }}>{{ name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="imm selector" id="immdiv">
                <label for="immbits">Immediate</label>
                <input type="number" min="0" max="15" name="immbits"
                id="immbits" class="immselector" value="0">
            </div>
            <div class="imm selector" id="immdivs">
                <label for="immshift">Left Shift</label>
                <input type="number" min="0" max="4" name="immshift"
                id="immshift" class="immselector" value="0">
            </div>
            <div class="selector">
                <input type="submit" value="Encode">
            </div>
        </form>
    </div>


    <div class="sidebar" id="left">
        <form name="radios">
            <label for="binary">
            <input type="radio" name="regbutt" id="binarybutton"
            value="b" checked>
                Binary
            </label>
            <label for="hexadecimal">
            <input type="radio" name="regbutt" id="hexbutton"
            value="x">
                Hexadecimal
            </label>
            <label for="decimal">
            <input type="radio" name="regbutt" id="decbutton"
            value="d">
                Decimal
            </label>
        </form>
        <table id="registers">
            {% for pair in pairs %}
            <tr>
                <th>{{ pair[0] }}</th>
                <td class="bin">{{ pair[1] }}</td>
                <td class="hex">{{ pair[2] }}</td>
                <td class="dec">{{ pair[3] }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>


    <div class="sidebar" id="right">
        <table>
            <caption>Instructions</caption>
            {% for row in instructions %}
                <tr>
                    <th>{{ row[0] }}</th>
                    {% for text in row[1:] %}
                        <td>{{ text }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </table>
    </div>

    <script src="{{ url_for('static', filename='iselect.js') }}"></script>
{% endblock %}
